{\"apiVersion\":\"batch/v1\",\"kind\":\"Job\",\"metadata\":{\"name\":\"configure-calico\",\"namespace\":\"kube-system\",\"labels\":{\"k8s-app\":\"calico\"}},\"spec\":{\"template\":{\"metadata\":{\"name\":\"configure-calico\",\"annotations\":{\"scheduler.alpha.kubernetes.io/critical-pod\":\"\",\"scheduler.alpha.kubernetes.io/tolerations\":\"[{\"key\": \"dedicated\", \"value\": \"master\", \"effect\": \"NoSchedule\" },\n {\"key\":\"CriticalAddonsOnly\", \"operator\":\"Exists\"}]\n\"}},\"spec\":{\"hostNetwork\":true,\"restartPolicy\":\"OnFailure\",\"containers\":[{\"name\":\"configure-calico\",\"image\":\"calico/ctl:v1.0.2\",\"args\":[\"apply\",\"-f\",\"/etc/config/calico/ippool.yaml\"],\"volumeMounts\":[{\"name\":\"config-volume\",\"mountPath\":\"/etc/config\"},{\"mountPath\":\"/calico-secrets\",\"name\":\"etcd-certs\"}],\"env\":[{\"name\":\"ETCD_ENDPOINTS\",\"valueFrom\":{\"configMapKeyRef\":{\"name\":\"calico-config\",\"key\":\"etcd_endpoints\"}}},{\"name\":\"ETCD_CA_CERT_FILE\",\"valueFrom\":{\"configMapKeyRef\":{\"name\":\"calico-config\",\"key\":\"etcd_ca\"}}},{\"name\":\"ETCD_KEY_FILE\",\"valueFrom\":{\"configMapKeyRef\":{\"name\":\"calico-config\",\"key\":\"etcd_key\"}}},{\"name\":\"ETCD_CERT_FILE\",\"valueFrom\":{\"configMapKeyRef\":{\"name\":\"calico-config\",\"key\":\"etcd_cert\"}}}]}],\"volumes\":[{\"name\":\"config-volume\",\"configMap\":{\"name\":\"calico-config\",\"items\":[{\"key\":\"ippool.yaml\",\"path\":\"calico/ippool.yaml\"}]}},{\"name\":\"etcd-certs\",\"secret\":{\"secretName\":\"calico-etcd-secrets\"}}]}}}}